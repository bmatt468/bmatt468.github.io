---
import '@fontsource-variable/inter';
import '~/styles/index.css';

import CommonMeta from '~/components/common/CommonMeta.astro';
import Favicons from '~/components/common/Favicons.astro';

const { site } = Astro;
const image = new URL('social.jpg', site);
const description =
  "Hi! I'm Benjamin, and welcome to my corner of the web. Come learn about what I'm up to currently!";
---

<!doctype html>
<html
  lang="en"
  class="h-full motion-safe:scroll-smooth"
  data-theme="dark"
>
  <head>
    <CommonMeta />
    <Favicons />

    <title>Benjamin R. Matthews</title>
    <meta
      name="description"
      content={description}
    />

    <!-- social media -->
    <meta
      property="og:title"
      content="Benjamin R. Matthews"
    />
    <meta
      property="og:type"
      content="website"
    />
    <meta
      property="og:description"
      content={description}
    />
    <meta
      property="og:image"
      content={image}
    />
    <meta
      property="og:url"
      content={site}
    />
    <meta
      name="twitter:card"
      content="summary_large_image"
    />

    <!-- initialize theme -->
    <script is:inline>
      const themeSaved = localStorage.getItem('theme');

      if (themeSaved) {
        document.documentElement.dataset.theme = themeSaved;
      } else {
        const prefersDark = window.matchMedia(
          '(prefers-color-scheme: dark)'
        ).matches;
        document.documentElement.dataset.theme = prefersDark ? 'dark' : 'light';
      }

      window
        .matchMedia('(prefers-color-scheme: dark)')
        .addEventListener('change', (event) => {
          if (!localStorage.getItem('theme')) {
            document.documentElement.dataset.theme = event.matches
              ? 'dark'
              : 'light';
          }
        });
    </script>
  </head>
  <body
    class="h-full overflow-x-hidden bg-default text-default text-base selection:bg-secondary selection:text-white"
  >
    <slot />
  </body>
</html>
