---
import { Icon } from 'astro-icon/components';

import About from '@assets/icons/about.svg';
import LandingGsapBox from '@components/landing/LandingGsapBox.astro';

import AboutContent from '../components/landing/abouts/AboutContent.astro';
import PassionsContent from '../components/landing/abouts/PassionsContent.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout>
  <LandingGsapBox
    id="gsapBoxAbout"
    linkId="about"
    classes="py-8 transition-all duration-500 max-h-[100svh]"
  >
    <div
      id="about-container"
      class="grid w-full max-w-[43rem] grid-rows-[min-content_1fr_1fr_1fr_min-content] self-stretch"
    >
      <div
        id="about-titles"
        class="place-self-center text-center"
      >
        <h1
          id="about-title"
          class="text-primary text-5xl font-semibold tracking-tight sm:text-7xl"
        >
          About Me
        </h1>
        <p
          id="about-subtitle"
          class="text-secondary mt-2 text-xl font-medium tracking-widest uppercase sm:text-3xl"
        >
          My "Three Ps"
        </p>
      </div>

      <div
        id="about-content"
        class="row-span-3 my-2 w-full overflow-hidden transition-all duration-500"
      >
        <div
          id="about-content-slides"
          class="h-full"
        >
          <AboutContent />
          <PassionsContent />
          <div class="h-full bg-green-400"></div>
          <div class="h-full bg-red-400"></div>
        </div>

        <!--<div id="about-content-past" class="flex items-center justify-center flex-col hidden">-->
        <!--  <p class="prose text-balance text-primary text-center mb-4">-->
        <!--    I have been been a software engineer for well over a decade. My passion is working with PHP&mdash;specifically the TALL stack (Tailwind, Alpine.js, Laravel, Livewire)... however, I love working in all aspects of the codebase and SDLC.-->
        <!--  </p>-->
        <!--  <p class="prose text-balance text-primary text-center">-->
        <!--    I am as comfortable working in the cloud as I am slinging code; few things excite me more than learning something new!-->
        <!--  </p>-->
        <!--</div>-->

        <!--<div id="about-content-projects" class="flex items-center justify-center flex-col hidden">-->
        <!--  <p class="prose text-balance text-primary text-center mb-4">-->
        <!--    I have been been a software engineer for well over a decade. My passion is working with PHP&mdash;specifically the TALL stack (Tailwind, Alpine.js, Laravel, Livewire)... however, I love working in all aspects of the codebase and SDLC.-->
        <!--  </p>-->
        <!--  <p class="prose text-balance text-primary text-center">-->
        <!--    I am as comfortable working in the cloud as I am slinging code; few things excite me more than learning something new!-->
        <!--  </p>-->
        <!--</div>-->
      </div>

      <div
        id="about-svg-morph"
        class="text-tertiary size-16 shrink place-self-center sm:size-[5rem]"
      >
        <About />
      </div>
    </div>
  </LandingGsapBox>
</BaseLayout>

<script>
  import { gsap } from 'gsap';
  import { Flip } from 'gsap/Flip';
  import { MorphSVGPlugin } from 'gsap/MorphSVGPlugin';
  import { TextPlugin } from 'gsap/TextPlugin';

  gsap.registerPlugin(MorphSVGPlugin, TextPlugin, Flip);

  const tl = gsap.timeline();
  const tl2 = gsap.timeline();
  const tl3 = gsap.timeline();

  tl.to('#about-svg-about', {
    duration: 1,
    delay: 1,
    morphSVG: '#about-svg-passions',
  });

  tl.to('#about-svg-about', {
    duration: 1,
    delay: 1,
    morphSVG: '#about-svg-history',
  });

  tl.to('#about-svg-about', {
    duration: 1,
    delay: 1,
    morphSVG: '#about-svg-projects',
  });

  tl2.to('#about-subtitle', {
    duration: 1,
    delay: 1,
    text: 'Passions',
  });

  tl2.to('#about-subtitle', {
    duration: 1,
    delay: 1,
    text: 'Past Experience',
  });

  tl2.to('#about-subtitle', {
    duration: 1,
    delay: 1,
    text: 'Projects',
  });

  tl3.to('#about-content-slides', {
    duration: 1,
    delay: 1,
    yPercent: '-=100',
  });

  tl3.to('#about-content-slides', {
    duration: 1,
    delay: 1,
    yPercent: '-=100',
  });

  tl3.to('#about-content-slides', {
    duration: 1,
    delay: 1,
    yPercent: '-=100',
  });

  tl3.to('#about-content-slides', {
    duration: 1,
    delay: 1,
    yPercent: '-=100',
  });
</script>
