---
import { appEnvironment } from '@scripts/AppEnvironment';

const { shouldRenderAnalytics = appEnvironment.isProduction() } = Astro.props;
---

<!-- Google Analytics -->
<script
  async
  is:inline
  src="https://www.googletagmanager.com/gtag/js?id=G-0369ZG7QWW"
></script>

<script define:vars={{ shouldRenderAnalytics }} is:inline>
  if (shouldRenderAnalytics) {
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-0369ZG7QWW');
  }
</script>
